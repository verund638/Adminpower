<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>ESP Menü</title>
</head>
<body style="background-color: #0f0f0f; color: white; font-family: sans-serif; text-align:center; padding-top:30px;">

  <h1>MTC ESP MENÜ</h1>
  <button id="espBtn">ESP ID GÖSTER</button>

  <p id="result" style="margin-top:30px; font-size:20px; color:#00ffea;"></p>

  <script>
    document.getElementById("espBtn").addEventListener("click", () => {
      if (window.mtc && typeof window.mtc.trigger === 'function') {
        mtc.trigger("FrontendToBackend", "get_esp_id");
        console.log("ESP ID isteği gönderildi.");
      } else {
        console.warn("mtc.trigger fonksiyonu tanımlı değil.");
      }
    });

    // Lua'dan geri gelen cevap
    window.addEventListener("message", (event) => {
      if (event.data.type === "esp_id_response") {
        document.getElementById("result").textContent = "Senin Oyuncu ID: " + event.data.playerId;
        console.log("ID alındı:", event.data.playerId);
      }
    });
  </script>

  <style>
    button {
      padding: 14px 28px;
      font-size: 18px;
      background: #3498db;
      border: none;
      border-radius: 10px;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #2980b9;
    }
  </style>

</body>
</html>
